<template>
  <div class="user -layout -box-sizing">
    <div class="box-card-100 -box-sizing -card -white -layout">
      <div :style="'width:100%;height:400px;'" ref="chart"></div>
    </div>
  </div>
</template>
<script>
const echarts = require("echarts/lib/echarts");
require("echarts/lib/chart/line");
require("echarts/lib/component/tooltip");
require("echarts/lib/component/title");
require("echarts/lib/component/legend");
let userTimer = null;
export default {
  components: {
  },
  data() {
    return {
      chartsOptions: {
        title: {
          text: "用户使用情况"
        },
        tooltip: {
          trigger: "axis"
        },
        backgroundColor: "#fff",
        legend: {
          show: true,
          width: 600,
          orient: "vertical",
          align: "left",
          itemWidth: 8,
          itemHeight: 8,
          data: [
            {
              name: "用户数量",
              icon: "circle"
            },
            {
              name: "付费用户数量",
              icon: "circle"
            },
            {
              name: "用户开机量",
              icon: "circle"
            }
          ],
          width: 10,
          height: 10,
          left: "right",
          textStyle: {
            color: "#aaa"
          }
        },
        toolbox: {
          show: true,
          feature: {
            magicType: { show: true, type: ["stack", "tiled"] },
            saveAsImage: { show: true }
          }
        },
        xAxis: {
          show: false,
          type: "category",
          // boundaryGap: true,
          axisLine: {
            lineStyle: {
              color: "#aaa"
            }
          },
          axisTick: {
            show: false,
            alignWithLabel: true
          },
          data: [
            14,14,13,14,14,14,14,14,14,14,14,14,14,14,14,14,13,14,14,14,14,14,14,14,14,14,14,13,15,14,14,14,14,14,14,14,14,14,13,15,14,14,14,13,14,14,14,14,14,14,14,12,15,14,14,14,14,14,14,14,14,14,13,14,14,14,14,14,14,14,14,14,14,13,15,14,14,14,14,14,14,14,14,14,13,14,14,14,14,14,14,14,14,14,14,12,16,14,14,14,14,14,14,14,14,14,13,14,14,14,14,14,14,14,14,14,14,13,15,14,14,14,14,14,14,14,14,14,13,14,14,14,14,14,14,14,14,14,14,14,14,13,14,14,14,14,14,14,14,14,14,14,14,14,14,13,14,14,14,14,14,14,14,14,14,14,13,15,14,14,14,14,14,14,14,14,14,13,15,14,14,14,13,14,14,14,14,14,14,14,12,15,14,14,14,14,14,14,14,14,14,13,14,14,14,14,14,14,14,14,14,14,13,15,14,14,14,14,14,14,14,14,14,13,14,14,14,14,14,14,14,14,14,14,12,16,14,14,14,14,14,14,14,14,14,13,14,14,14,14,14,14,14,14,14,14,13,15,14,14,14,14,14,14,14,14,14,13,14,14,14,14,14,14,14,14,14,14,14,14,13,14,14,14,14,14,14,14,14,14,14,14,14,14,13,14,14,14,14,14,14,14,14,14,14,13,15,14,14,14,14,14,14,14,14,14,13,15,14,14,14,13,14,14,14,14,14,14,14,12,15,14,14,14,14,14,14,14,14,14,13,14,14,14,14,14,14,14,14,14,14,13,15,14,14,14,14,14,14,14,14,14,13,14,14,14,14,14,14,14,14,14,14,12,16,14,14,14,14,14,14,14,14,14,13,14,14,14,14,14,14,14,14,14,14,13,15,14,14,14,14,14,14,14,14,14,13,14,14,14,14,14,14,14,14,14,14
          ]
        },
        yAxis: {
          type: "value",
          show: false,
          // boundaryGap: true,
          splitLine: {
            show: false
          },
          axisTick: {
            show: false,
            alignWithLabel: true
          },
          axisLine: {
            lineStyle: {
              color: "#aaa"
            }
          }
        },
        series: [
          {
            name: "用户数量a",
            type: "line",
            smooth: false,
            data: [14,14,13,14,14,14,14,14,14,14,14,14,14,14,14,14,13,14,14,14,14,14,14,14,14,14,14,13,15,14,14,14,14,14,14,14,14,14,13,15,14,14,14,13,14,14,14,14,14,14,14,12,15,14,14,14,14,14,14,14,14,14,13,14,14,14,14,14,14,14,14,14,14,13,15,14,14,14,14,14,14,14,14,14,13,14,14,14,14,14,14,14,14,14,14,12,16,14,14,14,14,14,14,14,14,14,13,14,14,14,14,14,14,14,14,14,14,13,15,14,14,14,14,14,14,14,14,14,13,14,14,14,14,14,14,14,14,14,14,14,14,13,14,14,14,14,14,14,14,14,14,14,14,14,14,13,14,14,14,14,14,14,14,14,14,14,13,15,14,14,14,14,14,14,14,14,14,13,15,14,14,14,13,14,14,14,14,14,14,14,12,15,14,14,14,14,14,14,14,14,14,13,14,14,14,14,14,14,14,14,14,14,13,15,14,14,14,14,14,14,14,14,14,13,14,14,14,14,14,14,14,14,14,14,12,16,14,14,14,14,14,14,14,14,14,13,14,14,14,14,14,14,14,14,14,14,13,15,14,14,14,14,14,14,14,14,14,13,14,14,14,14,14,14,14,14,14,14,14,14,13,14,14,14,14,14,14,14,14,14,14,14,14,14,13,14,14,14,14,14,14,14,14,14,14,13,15,14,14,14,14,14,14,14,14,14,13,15,14,14,14,13,14,14,14,14,14,14,14,12,15,14,14,14,14,14,14,14,14,14,13,14,14,14,14,14,14,14,14,14,14,13,15,14,14,14,14,14,14,14,14,14,13,14,14,14,14,14,14,14,14,14,14,12,16,14,14,14,14,14,14,14,14,14,13,14,14,14,14,14,14,14,14,14,14,13,15,14,14,14,14,14,14,14,14,14,13,14,14,14,14,14,14,14,14,14,14],
            itemStyle: {
              opacity: 0,
              color: "#fc5f3a",
              borderColor: "#fc5f3a"
            },
            lineStyle: {
              width: 2,
              color: "#fc5f3a"
            },
            areaStyle: {
              color: {
                  type: 'linear',
                  x: 0,
                  y: 0,
                  x2: 0,
                  y2: 1,
                  colorStops: [{
                      offset: 0, color: '#febcad' // 0% 处的颜色
                  }, {
                      offset: 1, color: '#fff' // 100% 处的颜色
                  }],
                  global: false // 缺省为 false
              }
            }
          },{
            name: "用户数量b",
            type: "line",
            smooth: false,
            data: [14,14,13,14,14,14,14,14,14,14,14,14,14,13,15,14,14,14,14,14,14,14,14,14,13,15,14,14,14,13,14,14,14,14,14,14,14,12,15,14,14,13,14,14,14,14,14,14,14,14,14,14,13,15,14,14,14,14,14,14,14,14,14,13,15,14,14,14,13,14,14,14,14,14,14,14,12,15,14,14,13,14,14,14,14,14,14,14,14,14,14,13,15,14,14,14,14,14,14,14,14,14,13,15,14,14,14,13,14,14,14,14,14,14,14,12,15,14,14,13,14,14,14,14,14,14,14,14,14,14,13,15,14,14,14,14,14,14,14,14,14,13,15,14,14,14,13,14,14,14,14,14,14,14,12,15,14,14,13,14,14,14,14,14,14,14,14,14,14,13,15,14,14,14,14,14,14,14,14,14,13,15,14,14,14,13,14,14,14,14,14,14,14,12,15,14,14,13,14,14,14,14,14,14,14,14,14,14,13,15,14,14,14,14,14,14,14,14,14,13,15,14,14,14,13,14,14,14,14,14,14,14,12,15,14,14,13,14,14,14,14,14,14,14,14,14,14,13,15,14,14,14,14,14,14,14,14,14,13,15,14,14,14,13,14,14,14,14,14,14,14,12,15,14,14,13,14,14,14,14,14,14,14,14,14,14,13,15,14,14,14,14,14,14,14,14,14,13,15,14,14,14,13,14,14,14,14,14,14,14,12,15,14,14,13,14,14,14,14,14,14,14,14,14,14,13,15,14,14,14,14,14,14,14,14,14,13,15,14,14,14,13,14,14,14,14,14,14,14,12,15,14,14,13,14,14,14,14,14,14,14,14,14,14,13,15,14,14,14,14,14,14,14,14,14,13,15,14,14,14,13,14,14,14,14,14,14,14,12,15,14,14,13,14,14,14,14,14,14,14,14,14,14,13,15,14,14,14,14,14,14,14,14,14,13,15,14,14],
            itemStyle: {
              opacity: 0,
              color: "#ccc",
              borderColor: "#ccc"
            },
            lineStyle: {
              width: 1,
              color: "#ccc"
            }
          }
        ]
      }
    };
  },
  watch: {},
  mounted() {
    let myChart = echarts.init(this.$refs.chart);
    myChart.setOption(this.chartsOptions);
    let arr = [12,14,14,14,14,14,13,14,14,14,14,14,14,15,14,14,14,14,14,16];
    clearInterval(userTimer);
    userTimer = setInterval(() => {
      let n1 = Math.floor(Math.random() * 19);
      let n2 = Math.floor(Math.random() * 19);
      let n3 = Math.floor(Math.random() * 19);
      let chartsOptions = this.chartsOptions;
      chartsOptions.series[0].data.push(arr[n1]);
      chartsOptions.series[1].data.push(arr[n2]);
      chartsOptions.xAxis.data.push(arr[n3]);
      this.chartsOptions = chartsOptions;
      myChart.setOption(this.chartsOptions);
    }, 1500)
  },
  destroyed() {
    clearInterval(userTimer);
  },
  methods: {}
};
</script>
<style lang="scss" scoped>
.user {
  padding: 20px;
  .box-card-100 {
    width: 100%;
    height: 100%;
    padding-top: 100px;
  }
}
</style>